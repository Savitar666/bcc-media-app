fragment Section on Section{
  title
  ... on ItemSection {
    items {
      items {
        id
        title
        image
        item {
          ... on Link {
            url
          }
          ... on Page {
            code
          }
          ... on Episode {
            id
          }
          ... on Show {
            id
          }
          __typename
        }
      }
    }
  }
  ... on LabelSection {
    items {
      items {
        id
        title
        image
        item {
          ... on Link {
            url
          }
          ... on Page {
            code
          }
          __typename
        }
      }
    }
  }
  ... on IconSection {
    items {
      items {
        title,
        image,
        item {
          ... on Link {
            url
          }
          ... on Page {
            code
          }
          __typename
        }
      }
    }
  }
  ... on PosterSection {
    size
    items {
      items {
        id
        title
        image
        item {
          ... on Show {
            episodeCount
            seasonCount
          }
          ... on Episode {
            productionDate
            duration
            season {
              show {
                title
              }
            }
          }
          __typename
        }
      }
    }
  }
  ... on FeaturedSection {
    size
    items {
      items {
        id
        title
        description
        image
        item {
          ... on Show {
            __typename
          }
          ... on Episode {
            __typename
          }
        }
      }
    }
  }
  ... on DefaultSection {
    size
    items {
      items {
        title
        image
        item {
          ... on Show {
            episodeCount
            seasonCount
          }
          ... on Episode {
            productionDate
            duration
            season {
              show {
                title
              }
            }
          }
          __typename
        }
      }
    }
  }
  ... on GridSection {
    gridSize: size
    items {
      items {
        id
        title
        image
        item {
          ... on Show {
            episodeCount
            seasonCount
          }
          ... on Episode {
            productionDate
            duration
            number
            season {
              number
              show {
                title
              }
            }
          }
          __typename
        }
      }
    }
  }
  __typename
}

query Page($code: String!) {
  page(code: $code) {
    sections {
      items {
        ...Section
      }
    }
  }
}
